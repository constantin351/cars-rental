"use strict";(self.webpackChunkcars_rent=self.webpackChunkcars_rent||[]).push([[518],{451:function(e,n,r){r.d(n,{Z:function(){return z}});var t=r(433),a=r(413),i=r(439),s=r(791),o={CardWrapper:"CarItem_CardWrapper__vIOfl",CarImgWrap:"CarItem_CarImgWrap__vTDRS",CarImg:"CarItem_CarImg__drEYl",favoriteIconBtn:"CarItem_favoriteIconBtn__Z+tbo",transparentFavoriteIconBtn:"CarItem_transparentFavoriteIconBtn__EXnSa",blueFavoriteIconBtn:"CarItem_blueFavoriteIconBtn__ZqqTo",InfoWrapper:"CarItem_InfoWrapper__+8ooc",MainInfo:"CarItem_MainInfo__+mJH7",makeModelYearWrapper:"CarItem_makeModelYearWrapper__fTcjt",CarInfo:"CarItem_CarInfo__nnN5z",CarText:"CarItem_CarText__RudEo",makeCarText:"CarItem_makeCarText__vT7rP",yearCarText:"CarItem_yearCarText__bBB9d",ModelBlue:"CarItem_ModelBlue__4mSyu",SecondaryCarText:"CarItem_SecondaryCarText__afhCx",learnMoreBtn:"CarItem_learnMoreBtn__7gJ5G"},c=r(164),l="Modal_modal__DJDMv",u="Modal_ModalContainer__xBW4j",d="Modal_ContentWrapper__3v3BX",m="Modal_closeIconBtn__PcpRp",f="Modal_closeIcon__9I0vC",p="Modal_modelMakeYearText__1FOTr",_="Modal_blueModelName__34CZ9",v="Modal_details__v-Ol9",h="Modal_fuelConsump__Q-l2s",C="Modal_description__zKB3H",x="Modal_accessFunct__IKZPw",j="Modal_accessList__EtsPe",g="Modal_functionsList__IG46M",N="Modal_accessListItem__ojaJr",I="Modal_functionListItem__eW+7C",M="Modal_rentalConditions__5lW1M",y="Modal_conditionsList__sRm86",S="Modal_conditionsListItem__kGxZ4",b="Modal_blueAge__G1qmw",F="Modal_mileage__pBWbD",k="Modal_price__L7oyL",B="Modal_rentalBtn__d-RUC",L=r(856),Z=r(184),T=document.querySelector("#modal-root"),w=function(e){document.body.style.overflow=e?"hidden":"auto"},W=function(e){var n=e.onClose,r=e.model,t=e.make,a=e.img,i=e.year,o=e.address,W=e.rentalPrice,P=(e.rentalCompany,e.functionalities),E=e.id,J=e.type,R=e.fuelConsumption,O=e.engineSize,z=e.description,A=e.accessories,G=e.rentalConditions,q=e.mileage;(0,s.useEffect)((function(){w(!0);var e=function(e){"Escape"===e.code&&n()};return window.addEventListener("keydown",e),function(){w(!1),window.removeEventListener("keydown",e)}}),[n]);var H=o.split(", "),Y=H[1],D=H[2],U=G.split("\n",3),K=U[0].match(/\d+/),X=parseInt(K[0],10);return(0,c.createPortal)((0,Z.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&n()},className:l,children:(0,Z.jsx)("div",{className:u,children:(0,Z.jsxs)("div",{className:d,children:[(0,Z.jsx)("button",{className:m,type:"button","aria-label":"close button",onClick:n,children:(0,Z.jsx)(L.FU5,{className:f})}),(0,Z.jsx)("img",{src:a,alt:t}),(0,Z.jsx)("div",{children:(0,Z.jsxs)("h2",{className:p,children:[t," ",(0,Z.jsxs)("span",{className:_,children:[r,","]})," ",i]})}),(0,Z.jsxs)("p",{className:v,children:[Y," | ",D," | id: ",E," | Year: ",i," | Type: ",J]}),(0,Z.jsxs)("p",{className:h,children:["Fuel consumption: ",R," | Engine size: ",O]}),(0,Z.jsx)("p",{className:C,children:z}),(0,Z.jsx)("h3",{className:x,children:"Accessories and functionalities:"}),(0,Z.jsx)("ul",{className:j,children:A.map((function(e,n){return(0,Z.jsx)("li",{className:N,children:e},n)}))}),(0,Z.jsx)("ul",{className:g,children:P.map((function(e,n){return(0,Z.jsx)("li",{className:I,children:e},n)}))}),(0,Z.jsx)("h3",{className:M,children:"Rental Conditions:"}),(0,Z.jsxs)("ul",{className:y,children:[(0,Z.jsxs)("li",{className:S,children:["Minimum age: ",(0,Z.jsx)("span",{className:b,children:X})]}),(0,Z.jsx)("li",{className:S,children:U[1]}),(0,Z.jsx)("li",{className:S,children:U[2]}),(0,Z.jsxs)("li",{className:S,children:["Mileage:"," ",(0,Z.jsx)("span",{className:F,children:q.toLocaleString("en-EN")})]}),(0,Z.jsxs)("li",{className:S,children:["Price: ",(0,Z.jsx)("span",{className:k,children:W})]})]}),(0,Z.jsx)("a",{href:"tel:+380730000000",className:B,children:"Rental car"})]})})}),T)},P=r(617),E=function(e){var n=e.onFavoriteToggle,r=e.model,t=e.make,a=e.id,c=e.img,l=e.year,u=e.address,d=e.rentalPrice,m=e.rentalCompany,f=e.type,p=e.functionalities,_=e.fuelConsumption,v=e.engineSize,h=e.description,C=e.accessories,x=e.rentalConditions,j=e.mileage,g=e.isFavorite,N=(0,s.useState)(!1),I=(0,i.Z)(N,2),M=I[0],y=I[1],S=null===u||void 0===u?void 0:u.split(", "),b=null===S||void 0===S?void 0:S[1],F=null===S||void 0===S?void 0:S[2],k=null===p||void 0===p?void 0:p[0];return(0,Z.jsxs)("div",{className:o.CardWrapper,children:[(0,Z.jsxs)("div",{className:o.CarImgWrap,children:[(0,Z.jsx)("img",{src:c,alt:t,className:o.CarImg}),(0,Z.jsx)("button",{onClick:n,type:"button",className:o.favoriteIconBtn,children:g?(0,Z.jsx)(P.dOX,{className:o.blueFavoriteIconBtn}):(0,Z.jsx)(P.wkn,{className:o.transparentFavoriteIconBtn})})]}),(0,Z.jsxs)("div",{className:o.InfoWrapper,children:[(0,Z.jsxs)("div",{className:o.MainInfo,children:[(0,Z.jsxs)("div",{className:o.makeModelYearWrapper,children:[(0,Z.jsx)("p",{className:o.makeCarText,children:t}),(0,Z.jsxs)("span",{className:o.ModelBlue,children:[r,","]}),(0,Z.jsx)("p",{className:o.yearCarText,children:l})]}),(0,Z.jsx)("p",{className:o.CarText,children:d})]}),(0,Z.jsx)("div",{className:o.SecondaryInfo,children:(0,Z.jsxs)("p",{className:o.SecondaryCarText,children:[b," | ",F," | ",m," | ",f," | ",t," | ",a," |"," ",k]})}),(0,Z.jsx)("button",{onClick:function(){y(!0)},className:o.learnMoreBtn,children:"Learn more"}),M&&(0,Z.jsx)(W,{onClose:function(){y(!1)},model:r,make:t,img:c,year:l,address:u,rentalPrice:d,rentalCompany:m,functionalities:p,id:a,type:f,fuelConsumption:_,engineSize:v,description:h,accessories:C,rentalConditions:x,mileage:j},a)]})]})},J="CarsList_wrapper__Jdgzy",R="CarsList_CarList__zN1KF",O=r(174),z=function(e){var n=e.cars,r=e.setCars,o=e.addCarToFavoriteLS,c=(0,s.useState)([]),l=(0,i.Z)(c,2)[1];(0,s.useEffect)((function(){var e=localStorage.getItem("favorite-cars");if(e&&e.length){var n=JSON.parse(localStorage.getItem("favorite-cars"));l(n)}}),[]);return(0,Z.jsx)("div",{className:J,children:(0,Z.jsx)("ul",{className:R,children:n.map((function(e){return(0,Z.jsx)("div",{children:(0,Z.jsx)(E,{onFavoriteToggle:function(){return function(e){var i=n.find((function(n){return n.id===e})),s=(0,a.Z)((0,a.Z)({},i),{},{isFavorite:!i.isFavorite}),o=n.map((function(n){return n.id===e?s:n}));if(r(o),s.isFavorite)l((function(e){var n=e.filter((function(e){return e.id!==s.id}));return localStorage.setItem("favorite-cars",JSON.stringify([].concat((0,t.Z)(n),[s]))),[].concat((0,t.Z)(n),[s])})),O.Am.warn("Added to your favorites list");else{l((function(e){return e.filter((function(e){return e.id!==s.id}))}));var c=JSON.parse(localStorage.getItem("favorite-cars")),u=null===c||void 0===c?void 0:c.filter((function(e){return e.id!==s.id})),d=null!==u&&void 0!==u&&u.length?JSON.stringify((0,t.Z)(u)):[];localStorage.setItem("favorite-cars",d),O.Am.warn("Removed from your favorites list")}}(e.id)},model:e.model,make:e.make,year:e.year,type:e.type,mileage:e.mileage,rentalCompany:e.rentalCompany,rentalConditions:e.rentalConditions,rentalPrice:e.rentalPrice,id:e.id,accessories:e.accessories,address:e.address,description:e.description,engineSize:e.engineSize,fuelConsumption:e.fuelConsumption,functionalities:e.functionalities,img:null===e||void 0===e?void 0:e.img,isFavorite:e.isFavorite,addCarToFavoriteLS:o})},e.id)}))})})}},518:function(e,n,r){r.r(n),r.d(n,{default:function(){return P}});for(var t=r(433),a=r(861),i=r(439),s=r(757),o=r.n(s),c=r(791),l=r(243),u=l.Z.create({baseURL:"https://6504c9bec8869921ae25708d.mockapi.io/"}),d=function(){var e=(0,a.Z)(o().mark((function e(){var n,r,t=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:1,e.prev=1,e.next=4,u.get("/advert?page=".concat(n,"&limit=8"));case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),m=d,f=r(451),p=r(525),_="LoadMoreBtn_loadMoreBtn__EJd7v",v=r(184),h=function(e){var n=e.onLoadMoreBtnClick;return(0,v.jsx)("button",{className:_,onClick:n,children:"Load more"})},C=r(174),x="FilterCarsForm_filterSection__+P-Zv",j="FilterCarsForm_form__L55y5",g="FilterCarsForm_inputsWrapper__f6lRW",N="FilterCarsForm_inputLabel__g1GAJ",I="FilterCarsForm_brandInput__GW2Js",M="FilterCarsForm_priceInput__n-jIW",y="FilterCarsForm_formButton__uFbNv",S=function(e){return fetch("".concat("https://6504c9bec8869921ae25708d.mockapi.io/advert","?make=").concat(e),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))},b=function(e){return fetch("".concat("https://6504c9bec8869921ae25708d.mockapi.io/advert","?rentalPrice=").concat(e),{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){if(e.ok)return e.json()})).then((function(e){return e})).catch((function(e){return console.log(e)}))},F=JSON.parse('["Buick","Volvo","HUMMER","Subaru","Mitsubishi","Nissan","Lincoln","GMC","Hyundai","MINI","Bentley","Mercedes","Aston Martin","Pontiac","Lamborghini","Audi","BMW","Chevrolet","Mercedes-Benz","Chrysler","Kia","Land","Land Rover","Maserati","Peugout","Ford"]'),k=[],B=30;B<=500;B+=10)k.push(B);JSON.stringify(k);var L=function(e){var n=e.onFilterFormSubmit,r=e.setHideLoadMoreBtn,t=(0,c.useState)(""),a=(0,i.Z)(t,2),s=a[0],o=a[1],l=(0,c.useState)(""),u=(0,i.Z)(l,2),d=u[0],m=u[1],f=(0,c.useState)(null),p=(0,i.Z)(f,2),_=p[0],h=p[1];(0,c.useEffect)((function(){""!==s&&null!==s&&S(s).then((function(e){return h(e)}))}),[s]),(0,c.useEffect)((function(){""!==d&&null!==d&&b(d).then((function(e){return h(e)}))}),[d]);var B=function(){o(""),m("")};return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("section",{className:x,children:(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),null===_?C.Am.warn("Please fill into any search field"):0===(null===_||void 0===_?void 0:_.length)?C.Am.warn("Oops, no results for your request. Try out other request."):n(_),r(!0),B()},className:j,children:[(0,v.jsxs)("div",{className:g,children:[(0,v.jsx)("label",{htmlFor:"carBrand",className:N,children:"Car brand"}),(0,v.jsx)("input",{list:"brandsList",name:"carBrand",id:"carBrand",placeholder:"Enter the text",onChange:function(e){o(e.target.value)},value:s,className:I}),(0,v.jsx)("datalist",{id:"brandsList",children:F.map((function(e){return(0,v.jsx)("option",{value:e,children:e},e)}))})]}),(0,v.jsxs)("div",{className:g,children:[(0,v.jsx)("label",{htmlFor:"carPrice",className:N,children:"Price/ 1 hour"}),(0,v.jsx)("input",{list:"pricesList",name:"carPrice",id:"carPrice",placeholder:"To $",onChange:function(e){m(e.target.value)},value:d,className:M}),(0,v.jsx)("datalist",{id:"pricesList",children:k.map((function(e){return(0,v.jsx)("option",{value:e,children:e},e)}))})]}),(0,v.jsx)("button",{type:"submit",className:y,children:"Search"})]})})})},Z=l.Z.create({baseURL:"https://6504c9bec8869921ae25708d.mockapi.io/"}),T=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.get("/advert");case 3:return n=e.sent,e.abrupt("return",n.data.length);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),w=T,W=function(e,n){return e.map((function(e){if(!n.find((function(n){return n.id===e.id})))return e})).filter((function(e){return e}))},P=function(e){var n=e.cars,r=e.setAllCars,s=(0,c.useState)(!1),l=(0,i.Z)(s,2),u=l[0],d=l[1],_=(0,c.useState)(null),C=(0,i.Z)(_,2),x=C[0],j=C[1],g=(0,c.useState)(null),N=(0,i.Z)(g,2),I=N[0],M=N[1],y=(0,c.useState)(0),S=(0,i.Z)(y,2),b=S[0],F=S[1],k=(0,c.useState)(0),B=(0,i.Z)(k,2),Z=B[0],T=B[1],P=(0,c.useState)(!1),E=(0,i.Z)(P,2),J=E[0],R=E[1];(0,c.useEffect)((function(){if(I)!function(){n.apply(this,arguments)}();else{var e=function(){var e=(0,a.Z)(o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:n=e.sent,T(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),M(1)}function n(){return(n=(0,a.Z)(o().mark((function e(){var n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,m(I);case 3:200===(n=e.sent).status?(d(!1),(a=localStorage.getItem("favorite-cars"))&&a.length?(i=JSON.parse(a),r((function(e){if(e.length){var r=null===e||void 0===e?void 0:e.map((function(e){return i.find((function(n){return n.id===e.id}))||e})),a=W(n.data,r);return[].concat((0,t.Z)(r),(0,t.Z)(a))}return n.data.map((function(e){return i.find((function(n){return n.id===e.id}))||e}))}))):r((function(e){var r=W(n.data,e);return[].concat((0,t.Z)(e),(0,t.Z)(r))})),F((function(e){return e+n.data.length}))):(j(n.message),console.log("error",x));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}),[x,I,r]);return(0,v.jsxs)("main",{children:[u&&(0,v.jsx)(p.Z,{}),(0,v.jsx)(L,{onFilterFormSubmit:function(e){r(e),R(!0)},setHideLoadMoreBtn:R}),n&&n.length>0&&(0,v.jsx)(f.Z,{cars:n,setCars:r}),b!==Z&&!J&&(0,v.jsx)(h,{onLoadMoreBtnClick:function(){M((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=518.0a9b5f9a.chunk.js.map